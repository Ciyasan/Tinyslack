{"ast":null,"code":"var _class;\nimport { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Service/message.service\";\nimport * as i2 from \"src/app/Service/user.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../change-message/change-message.component\";\nfunction MessageComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"app-change-message\", 4);\n    i0.ɵɵlistener(\"Rafraichissement\", function MessageComponent_div_5_Template_app_change_message_Rafraichissement_1_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.raffraichissement());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function MessageComponent_div_5_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.delete());\n    });\n    i0.ɵɵtext(3, \"Supprimer\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"actualMessage\", ctx_r0.msg);\n  }\n}\nexport class MessageComponent {\n  constructor(ms, us) {\n    this.ms = ms;\n    this.us = us;\n    this.msg = {\n      messageId: '',\n      messageContent: '',\n      messageDate: new Date(),\n      channel: {\n        channelId: '',\n        channelName: '',\n        channelDescription: '',\n        locked: 0,\n        creationDate: new Date(),\n        user: {\n          userId: '',\n          password: '',\n          userMail: '',\n          userName: ''\n        }\n      },\n      user: {\n        userId: '',\n        password: '',\n        userMail: '',\n        userName: ''\n      }\n    };\n    this.displayForm = false;\n    this.Rafraichissement = new EventEmitter();\n    let user = us.getCurrentUser();\n    if (user) this.currentUser = user;\n  }\n  delete() {\n    this.ms.deleteMessage(this.msg).subscribe(response => {\n      console.log(response);\n    });\n    this.raffraichissement();\n  }\n  raffraichissement() {\n    this.Rafraichissement.emit();\n  }\n}\n_class = MessageComponent;\n_class.ɵfac = function MessageComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.MessageService), i0.ɵɵdirectiveInject(i2.UserService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-message\"]],\n  inputs: {\n    msg: \"msg\"\n  },\n  outputs: {\n    Rafraichissement: \"Rafraichissement\"\n  },\n  decls: 6,\n  vars: 4,\n  consts: [[1, \"message-field\"], [1, \"user-date\"], [1, \"message\"], [4, \"ngIf\"], [3, \"actualMessage\", \"Rafraichissement\"], [3, \"click\"]],\n  template: function MessageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"p\", 1);\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"p\", 2);\n      i0.ɵɵtext(4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(5, MessageComponent_div_5_Template, 4, 1, \"div\", 3);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate2(\"\", ctx.msg.user.userName, \" - \", ctx.msg.messageDate, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.msg.messageContent);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.currentUser.userId == ctx.msg.user.userId);\n    }\n  },\n  dependencies: [i3.NgIf, i4.ChangeMessageComponent],\n  styles: [\".message-field[_ngcontent-%COMP%] {\\n  border: 1px solid midnightblue;\\n  box-shadow: 5px 5px 5px rgb(25, 25, 112, 0.5);\\n  border-radius: 10px;\\n  margin-bottom: 10px;\\n}\\n.message[_ngcontent-%COMP%] {\\n  background-color: lightskyblue;\\n  height: 40px;\\n  padding-top: 7px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50L21lc3NhZ2UvbWVzc2FnZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsOEJBQThCO0VBQzlCLDZDQUE2QztFQUM3QyxtQkFBbUI7RUFDbkIsbUJBQW1CO0FBQ3JCO0FBQ0E7RUFDRSw4QkFBOEI7RUFDOUIsWUFBWTtFQUNaLGdCQUFnQjtBQUNsQiIsInNvdXJjZXNDb250ZW50IjpbIi5tZXNzYWdlLWZpZWxkIHtcclxuICBib3JkZXI6IDFweCBzb2xpZCBtaWRuaWdodGJsdWU7XHJcbiAgYm94LXNoYWRvdzogNXB4IDVweCA1cHggcmdiKDI1LCAyNSwgMTEyLCAwLjUpO1xyXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxufVxyXG4ubWVzc2FnZSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRza3libHVlO1xyXG4gIGhlaWdodDogNDBweDtcclxuICBwYWRkaW5nLXRvcDogN3B4O1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["EventEmitter","i0","ɵɵelementStart","ɵɵlistener","MessageComponent_div_5_Template_app_change_message_Rafraichissement_1_listener","ɵɵrestoreView","_r2","ctx_r1","ɵɵnextContext","ɵɵresetView","raffraichissement","ɵɵelementEnd","MessageComponent_div_5_Template_button_click_2_listener","ctx_r3","delete","ɵɵtext","ɵɵadvance","ɵɵproperty","ctx_r0","msg","MessageComponent","constructor","ms","us","messageId","messageContent","messageDate","Date","channel","channelId","channelName","channelDescription","locked","creationDate","user","userId","password","userMail","userName","displayForm","Rafraichissement","getCurrentUser","currentUser","deleteMessage","subscribe","response","console","log","emit","ɵɵdirectiveInject","i1","MessageService","i2","UserService","selectors","inputs","outputs","decls","vars","consts","template","MessageComponent_Template","rf","ctx","ɵɵtemplate","MessageComponent_div_5_Template","ɵɵtextInterpolate2","ɵɵtextInterpolate"],"sources":["C:\\Users\\ciyas\\Desktop\\formation_java\\ProjetJury\\frontend\\src\\app\\component\\message\\message.component.ts","C:\\Users\\ciyas\\Desktop\\formation_java\\ProjetJury\\frontend\\src\\app\\component\\message\\message.component.html"],"sourcesContent":["import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { Message } from 'src/app/Model/message';\r\nimport { User } from 'src/app/Model/user';\r\nimport { MessageService } from 'src/app/Service/message.service';\r\nimport { UserService } from 'src/app/Service/user.service';\r\n\r\n@Component({\r\n  selector: 'app-message',\r\n  templateUrl: './message.component.html',\r\n  styleUrls: ['./message.component.css'],\r\n})\r\nexport class MessageComponent {\r\n  @Input() msg: Message = {\r\n    messageId: '',\r\n    messageContent: '',\r\n    messageDate: new Date(),\r\n    channel: {\r\n      channelId: '',\r\n      channelName: '',\r\n      channelDescription: '',\r\n      locked: 0,\r\n      creationDate: new Date(),\r\n      user: {\r\n        userId: '',\r\n        password: '',\r\n        userMail: '',\r\n        userName: '',\r\n      },\r\n    },\r\n    user: {\r\n      userId: '',\r\n      password: '',\r\n      userMail: '',\r\n      userName: '',\r\n    },\r\n  };\r\n\r\n  currentUser!: User;\r\n  displayForm: boolean = false;\r\n  @Output() Rafraichissement = new EventEmitter();\r\n  constructor(private ms: MessageService, private us: UserService) {\r\n    let user = us.getCurrentUser();\r\n    if (user) this.currentUser = user;\r\n  }\r\n\r\n  delete() {\r\n    this.ms.deleteMessage(this.msg).subscribe((response) => {\r\n      console.log(response);\r\n    });\r\n    this.raffraichissement();\r\n  }\r\n  raffraichissement() {\r\n    this.Rafraichissement.emit();\r\n  }\r\n}\r\n","<div class=\"message-field\">\r\n  <p class=\"user-date\">{{ msg.user.userName }} - {{ msg.messageDate }}</p>\r\n  <p class=\"message\">{{ msg.messageContent }}</p>\r\n  <div *ngIf=\"currentUser.userId == msg.user.userId\">\r\n    <app-change-message\r\n      (Rafraichissement)=\"raffraichissement()\"\r\n      [actualMessage]=\"msg\"\r\n    ></app-change-message>\r\n    <button (click)=\"delete()\">Supprimer</button>\r\n  </div>\r\n</div>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}