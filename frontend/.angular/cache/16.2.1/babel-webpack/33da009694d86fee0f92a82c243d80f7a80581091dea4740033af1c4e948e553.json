{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Service/message.service\";\nimport * as i2 from \"src/app/Service/user.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../change-message/change-message.component\";\nfunction MessageComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-change-message\", 4);\n    i0.ɵɵelementStart(2, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function MessageComponent_div_5_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.delete());\n    });\n    i0.ɵɵtext(3, \"Supprimer\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"actualMessage\", ctx_r0.msg);\n  }\n}\nexport class MessageComponent {\n  constructor(ms, us) {\n    this.ms = ms;\n    this.us = us;\n    this.msg = {\n      messageId: '',\n      messageContent: '',\n      messageDate: new Date(),\n      channel: {\n        channelId: '',\n        channelName: '',\n        channelDescription: '',\n        locked: 0,\n        creationDate: new Date(),\n        user: {\n          userId: '',\n          password: '',\n          userMail: '',\n          userName: ''\n        }\n      },\n      user: {\n        userId: '',\n        password: '',\n        userMail: '',\n        userName: ''\n      }\n    };\n    this.displayForm = false;\n    let user = us.getCurrentUser();\n    if (user) this.currentUser = user;\n  }\n  delete() {\n    this.ms.deleteMessage(this.msg).subscribe(response => {\n      console.log(response);\n    });\n    alert('Message supprimé');\n  }\n}\n_class = MessageComponent;\n_class.ɵfac = function MessageComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.MessageService), i0.ɵɵdirectiveInject(i2.UserService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-message\"]],\n  inputs: {\n    msg: \"msg\"\n  },\n  decls: 6,\n  vars: 4,\n  consts: [[1, \"message-field\"], [1, \"user-date\"], [1, \"message\"], [4, \"ngIf\"], [3, \"actualMessage\"], [3, \"click\"]],\n  template: function MessageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"p\", 1);\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"p\", 2);\n      i0.ɵɵtext(4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(5, MessageComponent_div_5_Template, 4, 1, \"div\", 3);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate2(\"\", ctx.msg.user.userName, \" - \", ctx.msg.messageDate, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.msg.messageContent);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.currentUser.userId == ctx.msg.user.userId);\n    }\n  },\n  dependencies: [i3.NgIf, i4.ChangeMessageComponent],\n  styles: [\".message-field[_ngcontent-%COMP%] {\\n  border: 1px solid midnightblue;\\n  box-shadow: 5px 5px 5px rgb(25, 25, 112, 0.5);\\n  border-radius: 10px;\\n  margin-bottom: 10px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50L21lc3NhZ2UvbWVzc2FnZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsOEJBQThCO0VBQzlCLDZDQUE2QztFQUM3QyxtQkFBbUI7RUFDbkIsbUJBQW1CO0FBQ3JCIiwic291cmNlc0NvbnRlbnQiOlsiLm1lc3NhZ2UtZmllbGQge1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkIG1pZG5pZ2h0Ymx1ZTtcclxuICBib3gtc2hhZG93OiA1cHggNXB4IDVweCByZ2IoMjUsIDI1LCAxMTIsIDAuNSk7XHJcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵlistener","MessageComponent_div_5_Template_button_click_2_listener","ɵɵrestoreView","_r2","ctx_r1","ɵɵnextContext","ɵɵresetView","delete","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","ctx_r0","msg","MessageComponent","constructor","ms","us","messageId","messageContent","messageDate","Date","channel","channelId","channelName","channelDescription","locked","creationDate","user","userId","password","userMail","userName","displayForm","getCurrentUser","currentUser","deleteMessage","subscribe","response","console","log","alert","ɵɵdirectiveInject","i1","MessageService","i2","UserService","selectors","inputs","decls","vars","consts","template","MessageComponent_Template","rf","ctx","ɵɵtemplate","MessageComponent_div_5_Template","ɵɵtextInterpolate2","ɵɵtextInterpolate"],"sources":["C:\\Users\\ciyas\\Desktop\\formation_java\\ProjetJury\\FrontEndCertif\\src\\app\\component\\message\\message.component.ts","C:\\Users\\ciyas\\Desktop\\formation_java\\ProjetJury\\FrontEndCertif\\src\\app\\component\\message\\message.component.html"],"sourcesContent":["import { Component, Input } from '@angular/core';\r\nimport { Message } from 'src/app/Model/message';\r\nimport { User } from 'src/app/Model/user';\r\nimport { MessageService } from 'src/app/Service/message.service';\r\nimport { UserService } from 'src/app/Service/user.service';\r\n\r\n@Component({\r\n  selector: 'app-message',\r\n  templateUrl: './message.component.html',\r\n  styleUrls: ['./message.component.css'],\r\n})\r\nexport class MessageComponent {\r\n  @Input() msg: Message = {\r\n    messageId: '',\r\n    messageContent: '',\r\n    messageDate: new Date(),\r\n    channel: {\r\n      channelId: '',\r\n      channelName: '',\r\n      channelDescription: '',\r\n      locked: 0,\r\n      creationDate: new Date(),\r\n      user: {\r\n        userId: '',\r\n        password: '',\r\n        userMail: '',\r\n        userName: '',\r\n      },\r\n    },\r\n    user: {\r\n      userId: '',\r\n      password: '',\r\n      userMail: '',\r\n      userName: '',\r\n    },\r\n  };\r\n\r\n  currentUser!: User;\r\n  displayForm: boolean = false;\r\n\r\n  constructor(private ms: MessageService, private us: UserService) {\r\n    let user = us.getCurrentUser();\r\n    if (user) this.currentUser = user;\r\n  }\r\n\r\n  delete() {\r\n    this.ms.deleteMessage(this.msg).subscribe((response) => {\r\n      console.log(response);\r\n    });\r\n    alert('Message supprimé');\r\n  }\r\n}","<div class=\"message-field\">\r\n  <p class=\"user-date\">{{ msg.user.userName }} - {{ msg.messageDate }}</p>\r\n  <p class=\"message\">{{ msg.messageContent }}</p>\r\n  <div *ngIf=\"currentUser.userId == msg.user.userId\">\r\n    <app-change-message [actualMessage]=\"msg\"></app-change-message>\r\n    <button (click)=\"delete()\">Supprimer</button>\r\n  </div>\r\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}